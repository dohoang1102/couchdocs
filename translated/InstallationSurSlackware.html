<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>CouchDocs - InstallationSurSlackware</title>
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen" />
  </head>
  <body>
    <div id="wrapper"> 
      <div id="header">
          <h1><a href="/">CouchDocs</a></h1>
      </div>
      <div id="menu">
        <ul>
        <li>Overview</li>
        <li>Installation</li>
        <li>Introduction</li>
        <li>Conventions</li>
        <li>
          Sections
          <ul>
            <li>Databases</li>
            <li>
              Documents
              <ul>
                <li>Design</li>
                <li>Local</li>
              </ul>
            </li>
            <li>Views</li>
            <li>Rendering</li>
            <li>Configuration</li>
            <li>Statistics</li>
            <li>Security</li>
          </ul>
        </li>
        <li>API Reference</li>
        <li>Client Libraries</li>
        <li>How do I?</li>
        <li>FAQ</li>
      </ul>
        
</div>
      <div id="content">
  <h2>Dépendances de CouchDB</h2>
<p>Dans un premier temps, il vous faut récupérer les slackbuilds suivants :</p>
<ul>
<li><a href="http://slackbuilds.org/repository/13.0/network/js/">js</a></li>
<li><a href="http://slackbuilds.org/repository/13.0/libraries/icu4c/">icu4c</a></li>
<li><a href="http://slackbuilds.org/repository/13.0/development/erlang-otp/">erlang-otp</a></li>
</ul>
<p>Les <a href="http://books.couchdb.org/relax/appendix/installing-from-source">autres dépendances</a> sont normalement satisfaites :</p>
<ul>
<li>
<p>curl : à vérifier en utilisant un :</p>
<p>curl-config --version</p>
</li>
<li>
<p>make &amp; gcc</p>
</li>
</ul>
<p>Créer les packages des slackbuids (les slackbuils sont prévus pour i486 ; si vous êtes en 64 bits, éditer le fichier <code>&lt;package&gt;.Slackbuild</code> pour modifier la valeur de <code>ARCH</code>.</p>
<p>Pour que le SlackBuild fonctionne, il vous faut mettre l'archive des sources du package à créer dans le répertoire créé en décompressant le fichier slackbuild.</p>
<pre><code>tar xzf js.tar.gz
cd js
./js.SlackBuild
#&gt; Slackware package /tmp/js-1.8.0_rc1-x86_64-1_SBo.tgz created.

tar xzf icu4c.tar.gz
cd ../icu4c
./icu4c.SlackBuild
#&gt; Slackware package /tmp/icu4c-4.2.1-x86_64-1_SBo.tgz created

tar xzf erlang-otp.tar.gz
cd erlang-otp
./erlang-otp.SlackBuild
#&gt; Slackware package /tmp/erlang-otp-13B03-x86_64-1_SBo.tgz created.
</code></pre>
<p>Installer ensuite les packages créés :</p>
<pre><code>nicolas@cassis:/tmp$ sudo installpkg icu4c-4.2.1-x86_64-1_SBo.tgz 
Verifying package icu4c-4.2.1-x86_64-1_SBo.tgz.                   
Installing package icu4c-4.2.1-x86_64-1_SBo.tgz:                  
PACKAGE DESCRIPTION:                                              
&lt;!-- # icu4c (International Components for Unicode) --&gt;
&lt;!-- # --&gt;
&lt;!-- # The International Components for Unicode (ICU) libraries provide --&gt;
&lt;!-- # robust and full-featured Unicode services on a wide variety of --&gt;
&lt;!-- # platforms. --&gt;
&lt;!-- # --&gt;
&lt;!-- # Homepage: http://www.icu-project.org/ --&gt;
&lt;!-- # --&gt;

Executing install script for icu4c-4.2.1-x86_64-1_SBo.tgz.        
Package icu4c-4.2.1-x86_64-1_SBo.tgz installed.

nicolas@cassis:/tmp$ sudo installpkg js-1.8.0_rc1-x86_64-1_SBo.tgz
Verifying package js-1.8.0_rc1-x86_64-1_SBo.tgz.
Installing package js-1.8.0_rc1-x86_64-1_SBo.tgz:
PACKAGE DESCRIPTION:
&lt;!-- # SpiderMonkey (Mozilla's JavaScript Engine) --&gt;
&lt;!-- # --&gt;
&lt;!-- # SpiderMonkey is the code-name for the Mozilla's C implementation of --&gt;
&lt;!-- # JavaScript. It can be used by applications such as elinks and others. --&gt;
&lt;!-- # --&gt;
&lt;!-- # This is the standalone version of the engine used by Firefox and other --&gt;
&lt;!-- # Mozilla applications. --&gt;
&lt;!-- # --&gt;
&lt;!-- # Homepage: http://www.mozilla.org/js/spidermonkey --&gt;
&lt;!-- # --&gt;

Package js-1.8.0_rc1-x86_64-1_SBo.tgz installed.

nicolas@cassis:/tmp$ sudo installpkg erlang-otp-13B03-x86_64-1_SBo.tgz
Verifying package erlang-otp-13B03-x86_64-1_SBo.tgz.
Installing package erlang-otp-13B03-x86_64-1_SBo.tgz:
PACKAGE DESCRIPTION:
&lt;!-- # Erlang (programming language) --&gt;
&lt;!-- # --&gt;
&lt;!-- # Erlang is a general-purpose concurrent programming language and --&gt;
&lt;!-- # runtime system. --&gt;
&lt;!-- # The sequential subset of Erlang is a functional language, --&gt;
&lt;!-- # with strict evaluation, single assignment, and dynamic typing. --&gt;
&lt;!-- # It was designed by Ericsson to support distributed, --&gt;
&lt;!-- # fault-tolerant, soft-real-time, non-stop applications. --&gt;
&lt;!-- # --&gt;
&lt;!-- # http://www.erlang.org/ --&gt;
&lt;!-- # --&gt;

Executing install script for erlang-otp-13B03-x86_64-1_SBo.tgz.
Package erlang-otp-13B03-x86_64-1_SBo.tgz installed.
</code></pre>
<h2>Installation de CouchDB</h2>
<p>Il vous faut au préalable créer un utilisateur et un groupe couchdb :</p>
<pre><code>groupadd -g 231 couchdb
useradd -u 231 -g couchdb -d /var/lib/couchdb -s /bin/sh couchdb
</code></pre>
<p>Récupérer le <a href="http://slackbuilds.org/repository/13.0/development/couchdb/">slackbuild de CouchDB</a></p>
<p>il vous faut alors procéder de la façon suivante :</p>
<pre><code>tar xzf couchdb.tar.gz
cd couchdb
&lt;!-- # récupérer les sources de couchdb 0.10.1 et metter les dans votre répertoire couchdb --&gt;
&lt;!-- # éditer si besoin le SlackBuild --&gt;
&lt;!-- # créer votre package : --&gt;

./couchdb.Slackbuild
#&gt; Slackware package /tmp/SBo/couchdb-0.10.1-x86_64-1_SBo.tgz created.
</code></pre>
<p>Il ne reste plus qu'à installer le paquet :</p>
<pre><code>installpkg /tmp/SBo/couchdb-0.10.1-x86_64-1_SBo.tgz
</code></pre>
<h2>Démarrage / Arrêt automatique de CouchDB</h2>
<p>Editer /etc/rc.d/rc.local pour y ajouter :</p>
<pre><code>if [ -x /etc/rc.d/rc.couchdb ]; then
    . /etc/rc.d/rc.couchdb start
fi
</code></pre>
<p>et dans /etc/rc.d/rc.local_shutdown :</p>
<pre><code>if [ -x /etc/rc.d/rc.couchdb ]; then
    . /etc/rc.d/rc.couchdb stop
fi
</code></pre>
<p>Ouvrez http://localhost:5984/_utils/</p>
<p>Et voilà... il est maintenant temps de vous relaxer ;-)</p>
</div>
      <div id="footer">
        <p>Hosted on <a href="http://github.com/">Github</a></p>
      </div>
    </div>
  </body>
</html>