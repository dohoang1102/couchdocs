<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>CouchDocs - Installing_on_Slackware</title>
    <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/code_highlight.css" type="text/css" media="screen" />
  </head>
  <body>
    <div id="wrapper"> 
      <div id="header">
          <h1><a href="/">CouchDocs</a></h1>
      </div>
      <div id="menu">
  <strong>Navigation</strong>
<ul>
  <li><a href="FrontPage.html">Overview</a></li>
  <li><a href="FrontPage.html#using-couchdb">Using CouchDB</a></li>
  <li><a href="FrontPage.html#when-things-go-wrong">When Things Go Wrong</a></li>
  <li><a href="FrontPage.html#community">Community</a></li>
  <li><a href="FrontPage.html#get-involved">Get Involved</a></li>
  <li><a href="FrontPage.html#books">Books</a></li>
</ul>

<strong>Short Cuts</strong>
<ul>
  <li><a href="Reference.html">Reference</a></li>
  <li><a href="Frequently_asked_questions.html">FAQ</a></li>
</ul>


      <!-- <ul>
        <li>Overview</li>
        <li>Installation</li>
        <li>Introduction</li>
        <li>Conventions</li>
        <li>
          Sections
          <ul>
            <li>Databases</li>
            <li>
              Documents
              <ul>
                <li>Design</li>
                <li>Local</li>
              </ul>
            </li>
            <li>Views</li>
            <li>Rendering</li>
            <li>Configuration</li>
            <li>Statistics</li>
            <li>Security</li>
          </ul>
        </li>
        <li>API Reference</li>
        <li>Client Libraries</li>
        <li>How do I?</li>
        <li>FAQ</li>
      </ul> -->
        
</div>
      <div id="content">
  <h2 id="dependancies-for-couchdb">Dependancies for CouchDB</h2>
<p>In a first time, you need to grab the following slackbuilds to meet Coubhdb's requirements :</p>
<ul>
<li><a href="http://slackbuilds.org/repository/13.0/network/js/">js</a></li>
<li><a href="http://slackbuilds.org/repository/13.0/libraries/icu4c/">icu4c</a></li>
<li><a href="http://slackbuilds.org/repository/13.0/development/erlang-otp/">erlang-otp</a></li>
</ul>
<p>Other <a href="http://books.couchdb.org/relax/appendix/installing-from-source">dependancies</a> are met by slackaware's packages :</p>
<ul>
<li>
<p>curl : you can check with :</p>
<p>curl-config --version</p>
</li>
<li>
<p>make &amp; gcc</p>
</li>
</ul>
<p>Then, you need to build those packages from the slackbuilds. Slackbuils are made by default for i486 platform; If you have a 64 bits platform, edit the file <code>&lt;package&gt;.Slackbuild</code> and modify <code>ARCH</code> for <code>x86_64</code>.</p>
<p>To build the package, you have to put the source archive file within the slackbuild directory.</p>
<div class="codehilite"><pre><span class="n">tar</span> <span class="n">xzf</span> <span class="n">js</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">cd</span> <span class="n">js</span>
<span class="o">./</span><span class="n">js</span><span class="o">.</span><span class="n">SlackBuild</span>
<span class="c1">#&gt; Slackware package /tmp/js-1.8.0_rc1-x86_64-1_SBo.tgz created.</span>

<span class="n">tar</span> <span class="n">xzf</span> <span class="n">icu4c</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">cd</span> <span class="o">../</span><span class="n">icu4c</span>
<span class="o">./</span><span class="n">icu4c</span><span class="o">.</span><span class="n">SlackBuild</span>
<span class="c1">#&gt; Slackware package /tmp/icu4c-4.2.1-x86_64-1_SBo.tgz created</span>

<span class="n">tar</span> <span class="n">xzf</span> <span class="n">erlang</span><span class="o">-</span><span class="n">otp</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">cd</span> <span class="n">erlang</span><span class="o">-</span><span class="n">otp</span>
<span class="o">./</span><span class="n">erlang</span><span class="o">-</span><span class="n">otp</span><span class="o">.</span><span class="n">SlackBuild</span>
<span class="c1">#&gt; Slackware package /tmp/erlang-otp-13B03-x86_64-1_SBo.tgz created.</span>
</pre></div>


<p>Install packages :</p>
<div class="codehilite"><pre><span class="n">nicolas</span><span class="nv">@cassis:</span><span class="o">/</span><span class="n">tmp</span><span class="nv">$</span> <span class="nv">sudo</span> <span class="n">installpkg</span> <span class="n">icu4c</span><span class="o">-</span><span class="mi">4</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span>
<span class="n">Verifying</span> <span class="nb">package</span> <span class="n">icu4c</span><span class="o">-</span><span class="mi">4</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span><span class="o">.</span>
<span class="n">Installing</span> <span class="nb">package</span> <span class="n">icu4c</span><span class="o">-</span><span class="mi">4</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz:</span>
<span class="n">PACKAGE</span> <span class="n">DESCRIPTION:</span>
<span class="o">&lt;!--</span> <span class="c1"># icu4c (International Components for Unicode) --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># The International Components for Unicode (ICU) libraries provide --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># robust and full-featured Unicode services on a wide variety of --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># platforms. --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># Homepage: http://www.icu-project.org/ --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>

<span class="n">Executing</span> <span class="n">install</span> <span class="n">script</span> <span class="k">for</span> <span class="n">icu4c</span><span class="o">-</span><span class="mi">4</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span><span class="o">.</span>
<span class="n">Package</span> <span class="n">icu4c</span><span class="o">-</span><span class="mi">4</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span> <span class="n">installed</span><span class="o">.</span>

<span class="n">nicolas</span><span class="nv">@cassis:</span><span class="o">/</span><span class="n">tmp</span><span class="nv">$</span> <span class="nv">sudo</span> <span class="n">installpkg</span> <span class="n">js</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">8</span><span class="o">.</span><span class="mi">0</span><span class="n">_rc1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span>
<span class="n">Verifying</span> <span class="nb">package</span> <span class="n">js</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">8</span><span class="o">.</span><span class="mi">0</span><span class="n">_rc1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span><span class="o">.</span>
<span class="n">Installing</span> <span class="nb">package</span> <span class="n">js</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">8</span><span class="o">.</span><span class="mi">0</span><span class="n">_rc1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz:</span>
<span class="n">PACKAGE</span> <span class="n">DESCRIPTION:</span>
<span class="o">&lt;!--</span> <span class="c1"># SpiderMonkey (Mozilla&#39;s JavaScript Engine) --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># SpiderMonkey is the code-name for the Mozilla&#39;s C implementation of --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># JavaScript. It can be used by applications such as elinks and others. --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># This is the standalone version of the engine used by Firefox and other --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># Mozilla applications. --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># Homepage: http://www.mozilla.org/js/spidermonkey --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>

<span class="n">Package</span> <span class="n">js</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">8</span><span class="o">.</span><span class="mi">0</span><span class="n">_rc1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span> <span class="n">installed</span><span class="o">.</span>

<span class="n">nicolas</span><span class="nv">@cassis:</span><span class="o">/</span><span class="n">tmp</span><span class="nv">$</span> <span class="nv">sudo</span> <span class="n">installpkg</span> <span class="n">erlang</span><span class="o">-</span><span class="n">otp</span><span class="o">-</span><span class="mi">13</span><span class="n">B03</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span>
<span class="n">Verifying</span> <span class="nb">package</span> <span class="n">erlang</span><span class="o">-</span><span class="n">otp</span><span class="o">-</span><span class="mi">13</span><span class="n">B03</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span><span class="o">.</span>
<span class="n">Installing</span> <span class="nb">package</span> <span class="n">erlang</span><span class="o">-</span><span class="n">otp</span><span class="o">-</span><span class="mi">13</span><span class="n">B03</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz:</span>
<span class="n">PACKAGE</span> <span class="n">DESCRIPTION:</span>
<span class="o">&lt;!--</span> <span class="c1"># Erlang (programming language) --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># Erlang is a general-purpose concurrent programming language and --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># runtime system. --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># The sequential subset of Erlang is a functional language, --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># with strict evaluation, single assignment, and dynamic typing. --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># It was designed by Ericsson to support distributed, --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># fault-tolerant, soft-real-time, non-stop applications. --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># http://www.erlang.org/ --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># --&gt;</span>

<span class="n">Executing</span> <span class="n">install</span> <span class="n">script</span> <span class="k">for</span> <span class="n">erlang</span><span class="o">-</span><span class="n">otp</span><span class="o">-</span><span class="mi">13</span><span class="n">B03</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span><span class="o">.</span>
<span class="n">Package</span> <span class="n">erlang</span><span class="o">-</span><span class="n">otp</span><span class="o">-</span><span class="mi">13</span><span class="n">B03</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span> <span class="n">installed</span><span class="o">.</span>
</pre></div>


<h2 id="installation-of-couchdb">Installation of CouchDB</h2>
<p>First you need to create a couchdb group &amp; user :</p>
<div class="codehilite"><pre><span class="n">groupadd</span> <span class="o">-</span><span class="n">g</span> <span class="mi">231</span> <span class="n">couchdb</span>
<span class="n">useradd</span> <span class="o">-</span><span class="n">u</span> <span class="mi">231</span> <span class="o">-</span><span class="n">g</span> <span class="n">couchdb</span> <span class="o">-</span><span class="n">d</span> <span class="sr">/var/</span><span class="n">lib</span><span class="sr">/couchdb -s /</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span> <span class="n">couchdb</span>
</pre></div>


<p>Grab the <a href="http://slackbuilds.org/repository/13.0/development/couchdb/">slacckbuild ofCouchDB</a></p>
<p>Following steps are :</p>
<div class="codehilite"><pre><span class="n">tar</span> <span class="n">xzf</span> <span class="n">couchdb</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">cd</span> <span class="n">couchdb</span>
<span class="o">&lt;!--</span> <span class="c1"># Grab couchdb 0.10.1 source file and put it in the &quot;couchdb&quot; directory --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># Edit the couchdb.SlackBuild file if needed --&gt;</span>
<span class="o">&lt;!--</span> <span class="c1"># Build package : --&gt;</span>

<span class="o">./</span><span class="n">couchdb</span><span class="o">.</span><span class="n">Slackbuild</span>
<span class="c1">#&gt; Slackware package /tmp/SBo/couchdb-0.10.1-x86_64-1_SBo.tgz created.</span>
</pre></div>


<p>Install package :</p>
<div class="codehilite"><pre><span class="n">installpkg</span> <span class="sr">/tmp/</span><span class="n">SBo</span><span class="o">/</span><span class="n">couchdb</span><span class="o">-</span><span class="mi">0</span><span class="o">.</span><span class="mi">10</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span>
</pre></div>


<h2 id="automatic-stopstart-for-couchdb">Automatic stop/start for CouchDB</h2>
<p>For automatic start :</p>
<p>In <code>/etc/rc.d/rc.local</code>, add :</p>
<div class="codehilite"><pre><span class="k">if</span> <span class="p">[</span> <span class="o">-</span><span class="n">x</span> <span class="sr">/etc/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">couchdb</span> <span class="p">];</span> <span class="k">then</span>
    <span class="o">.</span> <span class="sr">/etc/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">couchdb</span> <span class="n">start</span>
<span class="n">fi</span>
</pre></div>


<p>For automatic stop :</p>
<p>In <code>/etc/rc.d/rc.local_shutdown</code>, add :</p>
<div class="codehilite"><pre><span class="k">if</span> <span class="p">[</span> <span class="o">-</span><span class="n">x</span> <span class="sr">/etc/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">couchdb</span> <span class="p">];</span> <span class="k">then</span>
    <span class="o">.</span> <span class="sr">/etc/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">couchdb</span> <span class="n">stop</span>
<span class="n">fi</span>
</pre></div>


<p>Open http://localhost:5984/_utils/</p>
<p>Now, time to relax...</p>
</div>
      <div id="footer">
        <p>Hosted on <a href="http://github.com/">Github</a></p>
      </div>
    </div>
  </body>
</html>