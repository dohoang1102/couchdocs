<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>CouchDocs - Installing_on_Slackware</title>
    <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/code_highlight.css" type="text/css" media="screen" />
  </head>
  <body>
    <div id="wrapper"> 
      <div id="header">
          <h1><a href="/">CouchDocs</a></h1>
      </div>
      <div id="menu">
  <strong>Navigation</strong>
<ul>
  <li><a href="FrontPage.html">Overview</a></li>
  <li><a href="FrontPage.html#using-couchdb">Using CouchDB</a></li>
  <li><a href="FrontPage.html#when-things-go-wrong">When Things Go Wrong</a></li>
  <li><a href="FrontPage.html#community">Community</a></li>
  <li><a href="FrontPage.html#getting-involved">Get Involved</a></li>
  <li><a href="FrontPage.html#books">Books</a></li>
</ul>

<strong>Short Cuts</strong>
<ul>
  <li><a href="Reference.html">Reference</a></li>
  <li><a href="Frequently_asked_questions.html">FAQ</a></li>
</ul>


      <!-- <ul>
        <li>Overview</li>
        <li>Installation</li>
        <li>Introduction</li>
        <li>Conventions</li>
        <li>
          Sections
          <ul>
            <li>Databases</li>
            <li>
              Documents
              <ul>
                <li>Design</li>
                <li>Local</li>
              </ul>
            </li>
            <li>Views</li>
            <li>Rendering</li>
            <li>Configuration</li>
            <li>Statistics</li>
            <li>Security</li>
          </ul>
        </li>
        <li>API Reference</li>
        <li>Client Libraries</li>
        <li>How do I?</li>
        <li>FAQ</li>
      </ul> -->
        
</div>
      <div id="content">
  <h2 id="dependancies-for-couchdb">Dependancies for CouchDB</h2>
<p>In a first time, you need to grab the following slackbuilds to meet Coubhdb's requirements :</p>
<ul>
<li><a href="http://slackbuilds.org/repository/13.0/network/js/">js</a></li>
<li><a href="http://slackbuilds.org/repository/13.0/libraries/icu4c/">icu4c</a></li>
<li><a href="http://slackbuilds.org/repository/13.0/development/erlang-otp/">erlang-otp</a></li>
</ul>
<p>Other <a href="http://books.couchdb.org/relax/appendix/installing-from-source">dependancies</a> are met by slackaware's packages :</p>
<ul>
<li>
<p>curl : you can check with :</p>
<p>curl-config --version</p>
</li>
<li>
<p>make &amp; gcc</p>
</li>
</ul>
<p>Then, you need to build those packages from the slackbuilds. Slackbuils are made by default for i486 platform; If you have a 64 bits platform, edit the file <code>&lt;package&gt;.Slackbuild</code> and modify <code>ARCH</code> for <code>x86_64</code>.</p>
<p>To build the package, you have to put the source archive file within the slackbuild directory.</p>
<div class="codehilite"><pre>tar xzf <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;js.tar.gz&quot;</span><span class="nt">&gt;</span>js.tar.gz<span class="nt">&lt;/a&gt;</span>     cd js
./js.SlackBuild
#&gt; Slackware package /tmp/js-1.8.0_rc1-x86_64-1_SBo.tgz created.

tar xzf <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;icu4c.tar.gz&quot;</span><span class="nt">&gt;</span>icu4c.tar.gz<span class="nt">&lt;/a&gt;</span>     cd ../icu4c
./icu4c.SlackBuild
#&gt; Slackware package /tmp/icu4c-4.2.1-x86_64-1_SBo.tgz created

tar xzf <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;erlang-otp.tar.gz&quot;</span><span class="nt">&gt;</span>erlang-otp.tar.gz<span class="nt">&lt;/a&gt;</span>     cd erlang-otp
./erlang-otp.SlackBuild
#&gt; Slackware package /tmp/erlang-otp-13B03-x86_64-1_SBo.tgz created.
</pre></div>


<p>Install packages :</p>
<div class="codehilite"><pre>nicolas@cassis:/tmp$ sudo installpkg icu4c-4.2.1-x86_64-1_SBo.tgz
Verifying package icu4c-4.2.1-x86_64-1_SBo.tgz.
Installing package icu4c-4.2.1-x86_64-1_SBo.tgz:
PACKAGE DESCRIPTION:
<span class="c">&lt;!-- # icu4c (International Components for Unicode) --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>
<span class="c">&lt;!-- # The International Components for Unicode (ICU) libraries provide --&gt;</span>
<span class="c">&lt;!-- # robust and full-featured Unicode services on a wide variety of --&gt;</span>
<span class="c">&lt;!-- # platforms. --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>
<span class="c">&lt;!-- # Homepage: &lt;a href=&quot;http://www.icu-project.org/&quot;&gt;http://www.icu-project.org/&lt;/a&gt; --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>

Executing install script for icu4c-4.2.1-x86_64-1_SBo.tgz.
Package icu4c-4.2.1-x86_64-1_SBo.tgz installed.

nicolas@cassis:/tmp$ sudo installpkg js-1.8.0_rc1-x86_64-1_SBo.tgz
Verifying package js-1.8.0_rc1-x86_64-1_SBo.tgz.
Installing package js-1.8.0_rc1-x86_64-1_SBo.tgz:
PACKAGE DESCRIPTION:
<span class="c">&lt;!-- # SpiderMonkey (Mozilla&#39;s JavaScript Engine) --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>
<span class="c">&lt;!-- # SpiderMonkey is the code-name for the Mozilla&#39;s C implementation of --&gt;</span>
<span class="c">&lt;!-- # JavaScript. It can be used by applications such as elinks and others. --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>
<span class="c">&lt;!-- # This is the standalone version of the engine used by Firefox and other --&gt;</span>
<span class="c">&lt;!-- # Mozilla applications. --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>
<span class="c">&lt;!-- # Homepage: &lt;a href=&quot;http://www.mozilla.org/js/spidermonkey&quot;&gt;http://www.mozilla.org/js/spidermonkey&lt;/a&gt; --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>

Package js-1.8.0_rc1-x86_64-1_SBo.tgz installed.

nicolas@cassis:/tmp$ sudo installpkg erlang-otp-13B03-x86_64-1_SBo.tgz
Verifying package erlang-otp-13B03-x86_64-1_SBo.tgz.
Installing package erlang-otp-13B03-x86_64-1_SBo.tgz:
PACKAGE DESCRIPTION:
<span class="c">&lt;!-- # Erlang (programming language) --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>
<span class="c">&lt;!-- # Erlang is a general-purpose concurrent programming language and --&gt;</span>
<span class="c">&lt;!-- # runtime system. --&gt;</span>
<span class="c">&lt;!-- # The sequential subset of Erlang is a functional language, --&gt;</span>
<span class="c">&lt;!-- # with strict evaluation, single assignment, and dynamic typing. --&gt;</span>
<span class="c">&lt;!-- # It was designed by Ericsson to support distributed, --&gt;</span>
<span class="c">&lt;!-- # fault-tolerant, soft-real-time, non-stop applications. --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>
<span class="c">&lt;!-- # &lt;a href=&quot;http://www.erlang.org/&quot;&gt;http://www.erlang.org/&lt;/a&gt; --&gt;</span>
<span class="c">&lt;!-- # --&gt;</span>

Executing install script for erlang-otp-13B03-x86_64-1_SBo.tgz.
Package erlang-otp-13B03-x86_64-1_SBo.tgz installed.
</pre></div>


<h2 id="installation-of-couchdb">Installation of CouchDB</h2>
<p>First you need to create a couchdb group &amp; user :</p>
<div class="codehilite"><pre><span class="n">groupadd</span> <span class="o">-</span><span class="n">g</span> <span class="mi">231</span> <span class="n">couchdb</span>
<span class="n">useradd</span> <span class="o">-</span><span class="n">u</span> <span class="mi">231</span> <span class="o">-</span><span class="n">g</span> <span class="n">couchdb</span> <span class="o">-</span><span class="n">d</span> <span class="sr">/var/</span><span class="n">lib</span><span class="sr">/couchdb -s /</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span> <span class="n">couchdb</span>
</pre></div>


<p>Grab the <a href="http://slackbuilds.org/repository/13.0/development/couchdb/">slacckbuild ofCouchDB</a></p>
<p>Following steps are :</p>
<div class="codehilite"><pre>tar xzf <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;couchdb.tar.gz&quot;</span><span class="nt">&gt;</span>couchdb.tar.gz<span class="nt">&lt;/a&gt;</span>     cd couchdb
<span class="c">&lt;!-- # Grab couchdb 0.10.1 source file and put it in the &quot;couchdb&quot; directory --&gt;</span>
<span class="c">&lt;!-- # Edit the couchdb.SlackBuild file if needed --&gt;</span>
<span class="c">&lt;!-- # Build package : --&gt;</span>

./couchdb.Slackbuild
#&gt; Slackware package /tmp/SBo/couchdb-0.10.1-x86_64-1_SBo.tgz created.
</pre></div>


<p>Install package :</p>
<div class="codehilite"><pre><span class="n">installpkg</span> <span class="sr">/tmp/</span><span class="n">SBo</span><span class="o">/</span><span class="n">couchdb</span><span class="o">-</span><span class="mi">0</span><span class="o">.</span><span class="mi">10</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mi">1</span><span class="n">_SBo</span><span class="o">.</span><span class="n">tgz</span>
</pre></div>


<h2 id="automatic-stopstart-for-couchdb">Automatic stop/start for CouchDB</h2>
<p>For automatic start :</p>
<p>In <code>/etc/rc.d/rc.local</code>, add :</p>
<div class="codehilite"><pre><span class="k">if</span> <span class="p">[</span> <span class="o">-</span><span class="n">x</span> <span class="sr">/etc/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">couchdb</span> <span class="p">];</span> <span class="k">then</span>
    <span class="o">.</span> <span class="sr">/etc/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">couchdb</span> <span class="n">start</span>
<span class="n">fi</span>
</pre></div>


<p>For automatic stop :</p>
<p>In <code>/etc/rc.d/rc.local_shutdown</code>, add :</p>
<div class="codehilite"><pre><span class="k">if</span> <span class="p">[</span> <span class="o">-</span><span class="n">x</span> <span class="sr">/etc/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">couchdb</span> <span class="p">];</span> <span class="k">then</span>
    <span class="o">.</span> <span class="sr">/etc/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">couchdb</span> <span class="n">stop</span>
<span class="n">fi</span>
</pre></div>


<p>Open http://localhost:5984/_utils/</p>
<p>Now, time to relax...</p>
</div>
      <div id="footer">
        <p>Hosted on <a href="http://github.com/">Github</a></p>
      </div>
    </div>
  </body>
</html>